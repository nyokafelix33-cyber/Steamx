<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FENG WORLD Vision 12.4</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
:root{
--primary:#d3f243;
--bg:#0b0e14;
--card:#1c1f26;
--text:#ffffff;
--radius:12px;
--accent:#25d366;
}

/* BASIC RESET */
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Arial,sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden}

/* SPLASH */
#splash{position:fixed;inset:0;background:black;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;font-weight:900;color:white;filter:drop-shadow(0 0 20px var(--primary));animation:fade 3s forwards;}
@keyframes fade{to{opacity:0;visibility:hidden}}

/* LOADER */
#loader{position:fixed;inset:0;background:#000a;z-index:9000;display:none;align-items:center;justify-content:center;font-size:20px}

/* HEADER */
header{padding:10px 5%;background:var(--bg);border-bottom:2px solid var(--primary);position:sticky;top:0;z-index:1000}
.logo{font-size:22px;font-weight:900}
.logo span{color:var(--primary)}
.search-box{display:flex;gap:8px;background:rgba(255,255,255,0.07);padding:10px;border-radius:12px;margin-top:10px}
.search-box input{flex:1;background:none;border:none;color:white;outline:none;font-size:14px}

/* GENRES */
#genre-filters{display:flex;overflow-x:auto;gap:8px;padding:10px 0}
.genre-pill{padding:6px 14px;background:#222;border-radius:20px;font-size:12px;cursor:pointer;white-space:nowrap}
.genre-pill.active{background:var(--primary);color:#000}

/* ROWS / GRIDS */
.shelf-title{padding:10px 5%;color:var(--primary);font-weight:900;font-size:13px;text-transform:uppercase}
.row{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:12px;padding:0 5% 20px;background:#0e111a;border-radius:12px;margin-bottom:15px}
.item{background:var(--card);border-radius:var(--radius);overflow:hidden;cursor:pointer;display:flex;flex-direction:column;align-items:center}
.item img{width:100%;aspect-ratio:2/3;object-fit:cover}
.item-meta{padding:8px;text-align:center;width:100%}
.item-meta b{font-size:12px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.item-meta span{font-size:10px;color:#777;font-weight:800}

/* DRAWERS */
.drawer{position:fixed;inset:0;background:var(--bg);z-index:5000;display:none;flex-direction:column;overflow-y:auto}
.drawer-head{padding:20px 5%;border-bottom:1px solid #222;display:flex;justify-content:space-between;align-items:center}

/* EPISODES */
#season-pills{display:flex;gap:10px;padding:10px;overflow-x:auto}
.season-pill{padding:8px 15px;background:#222;border-radius:20px;font-weight:900;cursor:pointer}
.season-pill.active{background:var(--primary);color:#000}
#ep-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:10px;padding:10px}

/* PLAYER */
#video-frame{width:100%;height:85%;border:none;background:#000}

/* FOOTER */
footer{position:fixed;bottom:0;width:100%;background:#000;display:flex;padding:12px 0;border-top:1px solid #1c1f26;z-index:3000}
.tab{flex:1;text-align:center;color:#555;cursor:pointer}
.tab.active{color:var(--primary)}
.tab i{font-size:22px;display:block}
.tab span{font-size:10px;font-weight:800}

/* LOGIN PANEL */
#login-box{position:fixed;inset:0;background:#000;z-index:8000;display:none;justify-content:center;align-items:center}
.login-card{background:#1c1f26;padding:20px;border-radius:15px;width:85%;max-width:350px;box-shadow:0 0 20px var(--primary)}
.login-card input{width:100%;padding:10px;margin-top:10px;border-radius:8px;border:none}
.login-card button{width:100%;padding:10px;background:var(--primary);border:none;border-radius:8px;font-weight:900;margin-top:10px;cursor:pointer}

/* PROFILE AVATAR */
#avatar{width:80px;height:80px;border-radius:50%;background:#333;display:flex;align-items:center;justify-content:center;font-size:30px;margin:auto;margin-bottom:10px;text-transform:uppercase}

/* INFO PANEL */
#info-backdrop{height:200px;background-size:cover;background-position:center;margin-bottom:10px}
#info-grid{padding:15px}
.download-btn{width:100%;padding:10px;margin-top:10px;background:var(--primary);border:none;border-radius:8px;color:#000;font-weight:900;cursor:pointer}

/* SETTINGS PROFESSIONAL */
#pane-settings div.setting-item{border-bottom:1px solid #222;padding:12px 0;display:flex;justify-content:space-between;align-items:center}
#pane-settings div.setting-item b{color:var(--primary)}
</style>
</head>
<body onload="FENG.boot()">

<!-- SPLASH -->
<div id="splash">Welcome to <span>FENG WORLD</span><br><small>Vision 12.4</small></div>

<!-- LOADER -->
<div id="loader">‚è≥ Loading content...</div>

<!-- LOGIN -->
<div id="login-box">
<div class="login-card">
<h2>FENG Fan Login</h2>
<input id="fanName" placeholder="Enter your fan name">
<button onclick="FENG.login()">ENTER FENG WORLD</button>
</div>
</div>

<!-- HEADER -->
<header>
<div class="logo">FE<span>NG</span> WORLD</div>
<div class="search-box">
<i class="fas fa-search" style="color:var(--primary)"></i>
<input type="text" placeholder="Search movies, series..." onkeyup="FENG.search(this.value)">
</div>
<div id="genre-filters"></div>
</header>

<!-- HOME MAIN -->
<main id="pane-home">
<div class="shelf-title">Movies</div>
<div class="row" id="row-movies"></div>
<div class="shelf-title">Series</div>
<div class="row" id="row-series"></div>
</main>

<!-- PROFILE -->
<div class="drawer" id="pane-profile">
<div class="drawer-head">
<h2>User Profile</h2>
<i class="fas fa-times fa-2x" onclick="FENG.hideDrawers()"></i>
</div>
<div style="padding:20px;text-align:center;">
<div id="avatar"></div>
<h3 id="user-name"></h3>
<p>FENG Fan Base Member</p>
<button onclick="FENG.logout()">LOG OUT</button>
</div>
</div>

<!-- SETTINGS -->
<div class="drawer" id="pane-settings">
<div class="drawer-head">
<h2>Settings</h2>
<i class="fas fa-times fa-2x" onclick="FENG.hideDrawers()"></i>
</div>
<div style="padding:20px;">
<div class="setting-item"><span>Web App Version</span><b>12.4</b></div>
<div class="setting-item"><span>Player Engine</span><b>Cloud Embed</b></div>
<div class="setting-item"><span>Developer</span><b>Felix Nyoka</b></div>
<div class="setting-item"><span>Support</span><b>felixnyoka19@gmail.com</b></div>
<div class="setting-item"><span>About Us</span><b>FENG WORLD is your ultimate movie & series platform</b></div>
</div>
</div>

<!-- INFO -->
<div class="drawer" id="pane-info">
<div class="drawer-head">
<h2 id="info-title"></h2>
<i class="fas fa-times fa-2x" onclick="FENG.hideDrawers()"></i>
</div>
<div id="info-backdrop"></div>
<div id="info-grid"></div>
</div>

<!-- EPISODES -->
<div class="drawer" id="pane-episodes">
<div class="drawer-head">
<h2>Episodes</h2>
<i class="fas fa-times fa-2x" onclick="FENG.hideDrawers()"></i>
</div>
<div id="season-pills"></div>
<div id="ep-grid"></div>
</div>

<!-- PLAYER -->
<div class="drawer" id="pane-player">
<div class="drawer-head">
<span id="now-playing">Loading...</span>
<button onclick="FENG.stopPlayer()" style="background:red;color:white;padding:8px;border:none;border-radius:6px;">EXIT</button>
</div>
<iframe id="video-frame" allowfullscreen></iframe>
</div>

<!-- FOOTER -->
<footer>
<div class="tab active" onclick="FENG.view('home',this)"><i class="fas fa-home"></i><span>Home</span></div>
<div class="tab" onclick="FENG.view('settings',this)"><i class="fas fa-cog"></i><span>Settings</span></div>
</footer>

<script>
const KEY="ea593c3fa4d4942ece315977cd7e32c9";
let userName=localStorage.getItem("fengUser")||null;

const FENG={
boot: async function(){
this.showLogin();
await this.loadGenres();
await this.loadShelves();
},

showLogin:function(){
if(!userName){
document.getElementById("login-box").style.display="flex";
}else{
document.getElementById("user-name").innerText=userName;
document.getElementById("avatar").innerText=userName[0].toUpperCase();
}
},
login:function(){
let name=document.getElementById("fanName").value;
if(name.length<2)return alert("Enter a name");
localStorage.setItem("fengUser",name);
location.reload();
},
logout:function(){localStorage.clear();location.reload();},

loadGenres: async function(){
try{
const r=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${KEY}`);
const d=await r.json();
const gcontainer=document.getElementById("genre-filters");
gcontainer.innerHTML="";
d.genres.forEach(g=>{
let pill=document.createElement("div");
pill.className="genre-pill";
pill.innerText=g.name;
pill.onclick=()=>this.searchByGenre(g.id);
gcontainer.appendChild(pill);
});
}catch(e){console.error(e);}
},

searchByGenre:function(id){
this.loadShelves(`discover/movie?with_genres=${id}`,`discover/tv?with_genres=${id}`);
},

loadShelves: async function(moviePath="movie/popular",tvPath="tv/top_rated"){
document.getElementById("loader").style.display="flex";
try{
let cachedMovies=localStorage.getItem(moviePath);
let cachedTV=localStorage.getItem(tvPath);
let [movies,tv]=[null,null];
if(cachedMovies) movies=JSON.parse(cachedMovies);
if(cachedTV) tv=JSON.parse(cachedTV);

if(!movies){
const r=await fetch(`https://api.themoviedb.org/3/${moviePath}&api_key=${KEY}`);
movies=await r.json();
localStorage.setItem(moviePath,JSON.stringify(movies));
}
if(!tv){
const r=await fetch(`https://api.themoviedb.org/3/${tvPath}&api_key=${KEY}`);
tv=await r.json();
localStorage.setItem(tvPath,JSON.stringify(tv));
}

// POPULATE MOVIES
const movieRow=document.getElementById("row-movies");
movieRow.innerHTML="";
movies.results.forEach(item=>{
if(!item.poster_path) return;
let title=item.title||item.name;
movieRow.innerHTML+=`<div class="item" onclick="FENG.openInfo('movie','${item.id}')"><img src="https://image.tmdb.org/t/p/w500${item.poster_path}"><div class="item-meta"><b>${title}</b><span>Movie</span></div></div>`;
});

// POPULATE SERIES
const tvRow=document.getElementById("row-series");
tvRow.innerHTML="";
tv.results.forEach(item=>{
if(!item.poster_path) return;
let title=item.name||item.title;
tvRow.innerHTML+=`<div class="item" onclick="FENG.openInfo('tv','${item.id}')"><img src="https://image.tmdb.org/t/p/w500${item.poster_path}"><div class="item-meta"><b>${title}</b><span>Series</span></div></div>`;
});

}catch(e){console.error(e);}
document.getElementById("loader").style.display="none";
},

search: function(query){
if(query.length<2) return this.loadShelves();
this.loadShelves(`search/movie?query=${query}`,`search/tv?query=${query}`);
},

openInfo: async function(type,id){
this.hideDrawers();
document.getElementById("pane-info").style.display="flex";
try{
const r=await fetch(`https://api.themoviedb.org/3/${type}/${id}?api_key=${KEY}`);
const d=await r.json();
document.getElementById("info-title").innerText=d.title||d.name;
document.getElementById("info-backdrop").style.backgroundImage=`url(https://image.tmdb.org/t/p/original${d.backdrop_path})`;
document.getElementById("info-grid").innerHTML=`
<h2>${d.title||d.name}</h2>
<p>${d.overview}</p>
<button class="download-btn" onclick="FENG.play('${type}','${id}','${d.title||d.name}')">WATCH</button>
${type==='tv'?`<button class="download-btn" onclick="FENG.showEpisodes(${id})">EPISODES</button>`:''}`;
}catch(e){console.error(e);}
},

showEpisodes: async function(id){
this.hideDrawers();
document.getElementById("pane-episodes").style.display="flex";
try{
const r=await fetch(`https://api.themoviedb.org/3/tv/${id}?api_key=${KEY}`);
const d=await r.json();
const seasons=document.getElementById("season-pills");
seasons.innerHTML="";
d.seasons.forEach(s=>{
let pill=document.createElement("div");
pill.className="season-pill";
pill.innerText=s.name;
pill.onclick=()=>this.loadEpisodes(id,s.season_number,pill);
seasons.appendChild(pill);
});
}catch(e){console.error(e);}
},

loadEpisodes: async function(id,season,pill){
document.querySelectorAll(".season-pill").forEach(p=>p.classList.remove("active"));
pill.classList.add("active");
try{
const r=await fetch(`https://api.themoviedb.org/3/tv/${id}/season/${season}?api_key=${KEY}`);
const d=await r.json();
const grid=document.getElementById("ep-grid");
grid.innerHTML="";
d.episodes.forEach(ep=>{
grid.innerHTML+=`<div style="background:#222;padding:10px;border-radius:8px;text-align:center;cursor:pointer;" onclick="FENG.play('tv','${id}/${season}/${ep.episode_number}','Episode ${ep.episode_number}')">E${ep.episode_number}</div>`;
});
}catch(e){console.error(e);}
},

play:function(type,path,title){
this.hideDrawers();
document.getElementById("now-playing").innerText=title;
document.getElementById("pane-player").style.display="flex";
document.getElementById("video-frame").src=`https://vidsrc.to/embed/${type}/${path}`;
},

view:function(pane,tab){
this.hideDrawers();
if(tab){document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));tab.classList.add("active");}
if(pane!=="home") document.getElementById("pane-"+pane).style.display="flex";
},

hideDrawers:function(){document.querySelectorAll(".drawer").forEach(d=>d.style.display="none");},
stopPlayer:function(){this.hideDrawers();document.getElementById("video-frame").src="";}
};

window.addEventListener("load",()=>setTimeout(()=>document.getElementById("splash").style.display="none",3000));
</script>
</body>
</html>
