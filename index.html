<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FENG WORLD Vision 7.0</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
--primary:#d3f243;
--bg:#0b0e14;
--card:#1c1f26;
--text:#ffffff;
--radius:14px;
}
body{margin:0;font-family:Arial;background:var(--bg);color:var(--text);overflow-x:hidden}

/* LOGO */
.feng-logo{width:55px;height:55px}

/* HEADER */
header{padding:15px 5%;background:#000;position:sticky;top:0;z-index:999;border-bottom:2px solid var(--primary)}
.header-top{display:flex;justify-content:space-between;align-items:center}
.logo-wrap{display:flex;align-items:center;gap:10px;font-size:20px;font-weight:900}
.search-area{background:#141820;padding:10px 15px;border-radius:12px;display:flex;gap:10px;margin-top:10px}
.search-area input{background:none;border:none;color:white;width:100%;outline:none}

/* GENRES */
#genre-filters{display:flex;gap:10px;overflow-x:auto;padding:10px 5%}
.genre-pill{padding:5px 12px;border-radius:20px;background:#222;cursor:pointer;font-size:12px;white-space:nowrap}
.genre-pill.active{background:var(--primary);color:#000}

/* HERO SLIDER */
.slider-container{width:100%;height:35vh;position:relative;overflow:hidden}
.slide{position:absolute;inset:0;background-size:cover;background-position:center;opacity:0;transition:1s;display:flex;align-items:flex-end;padding:20px;cursor:pointer}
.slide.active{opacity:1}
.slide::after{content:'';position:absolute;inset:0;background:linear-gradient(to top,#000 20%,transparent)}
.slide-content{position:relative;z-index:2;font-size:22px;font-weight:900}

/* ROWS */
.shelf-title{padding:10px 5%;font-weight:bold;color:var(--primary)}
.row{display:flex;gap:12px;overflow-x:auto;padding:0 5% 20px}
.item{min-width:130px;background:var(--card);border-radius:14px;overflow:hidden;cursor:pointer}
.item img{width:100%;aspect-ratio:2/3;object-fit:cover}
.item-meta{padding:8px;font-size:11px}

/* DRAWERS */
.drawer{position:fixed;inset:0;background:#000;display:none;flex-direction:column;z-index:9999;overflow-y:auto}
.drawer-head{padding:15px;border-bottom:1px solid #222;display:flex;justify-content:space-between;align-items:center}

/* SETTINGS */
.set-item{padding:15px;border-bottom:1px solid #222;display:flex;justify-content:space-between;align-items:center}

/* INFO PAGE */
#info-backdrop{width:100%;height:200px;background-size:cover;background-position:center}
#info-grid{padding:15px}
.info-title{font-size:22px;font-weight:900}
.info-genres{font-size:12px;color:#aaa}
.info-overview{font-size:14px;margin-top:10px}
.btn{padding:10px 15px;border:none;border-radius:10px;background:var(--primary);font-weight:bold;cursor:pointer}

/* PLAYER */
#video-frame{width:100%;height:80vh;border:none;background:black}

/* FOOTER */
footer{position:fixed;bottom:0;width:100%;background:#000;display:flex;padding:10px 0;border-top:1px solid #222}
.tab{flex:1;text-align:center;color:#555;font-size:12px;cursor:pointer}
.tab.active{color:var(--primary)}
.tab i{font-size:22px}
</style>
</head>

<body onload="FENG.boot()">

<!-- LOGO SVG -->
<svg id="fengLogo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" style="display:none;">
<circle cx="100" cy="100" r="90" fill="#000"/>
<polygon points="100,20 160,100 100,180 40,100" fill="#d3f243"/>
<circle cx="100" cy="100" r="25" fill="#000"/>
</svg>

<header>
<div class="header-top">
<div class="logo-wrap">
<img class="feng-logo" id="logoHome">
<span>FENG WORLD</span>
</div>
<i class="fas fa-cog fa-lg" onclick="FENG.view('settings')"></i>
</div>

<div class="search-area">
<i class="fas fa-search"></i>
<input id="search" placeholder="Search movies or series..." onkeyup="FENG.search(this.value)">
</div>

<div id="genre-filters"></div>
</header>

<div class="slider-container" id="hero"></div>

<div class="shelf-title">Trending Movies</div>
<div class="row" id="movies"></div>

<div class="shelf-title">Popular Series</div>
<div class="row" id="series"></div>

<!-- SETTINGS -->
<div class="drawer" id="pane-settings">
<div class="drawer-head">
<div class="logo-wrap">
<img class="feng-logo" id="logoSettings">
<b>Settings</b>
</div>
<i class="fas fa-times" onclick="FENG.closeAll()"></i>
</div>

<div class="set-item">
<div><b>Web App Vision</b><br><small>FENG WORLD Vision 7.0</small></div>
<i class="fas fa-code-branch"></i>
</div>

<div class="set-item">
<div><b>Player Engine</b><br><small>VidSRC Smart Embed</small></div>
<i class="fas fa-play"></i>
</div>

<div class="set-item">
<div><b>Build Mode</b><br><small>Android WebView Optimized</small></div>
<i class="fab fa-android"></i>
</div>

<div class="set-item">
<div><b>Developer</b><br><small>Felix Nyoka â€¢ FENG Labs</small></div>
<i class="fas fa-user-secret"></i>
</div>
</div>

<!-- INFO -->
<div class="drawer" id="pane-info">
<div class="drawer-head">
<b id="infoTitle"></b>
<i class="fas fa-times" onclick="FENG.closeAll()"></i>
</div>
<div id="info-backdrop"></div>
<div id="info-grid"></div>
</div>

<!-- PLAYER -->
<div class="drawer" id="pane-player">
<div class="drawer-head">
<b id="nowPlaying"></b>
<button onclick="FENG.stop()">EXIT</button>
</div>
<iframe id="video-frame" allowfullscreen></iframe>
</div>

<footer>
<div class="tab active" onclick="FENG.home(this)"><i class="fas fa-home"></i><div>Home</div></div>
<div class="tab" onclick="FENG.loadMovies(this)"><i class="fas fa-film"></i><div>Movies</div></div>
<div class="tab" onclick="FENG.loadSeries(this)"><i class="fas fa-tv"></i><div>Series</div></div>
<div class="tab" onclick="FENG.view('settings',this)"><i class="fas fa-cog"></i><div>Settings</div></div>
</footer>

<script>
const API="ea593c3fa4d4942ece315977cd7e32c9";
let slideIndex=0;

const FENG={

boot:()=>{
FENG.loadLogo();
FENG.genres();
FENG.hero();
FENG.loadMovies();
FENG.loadSeries();
},

loadLogo:()=>{
const svg=document.getElementById("fengLogo").outerHTML;
document.getElementById("logoHome").src="data:image/svg+xml;base64,"+btoa(svg);
document.getElementById("logoSettings").src="data:image/svg+xml;base64,"+btoa(svg);
},

/* GENRES */
genres:async()=>{
const r=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${API}`);
const d=await r.json();
d.genres.forEach(g=>{
let div=document.createElement("div");
div.className="genre-pill";
div.innerText=g.name;
div.onclick=()=>FENG.filter(g.id);
document.getElementById("genre-filters").appendChild(div);
});
},

filter:(id)=>{
FENG.shelf(`discover/movie?with_genres=${id}`,"movies","movie");
FENG.shelf(`discover/tv?with_genres=${id}`,"series","tv");
},

/* HERO CLICKABLE */
hero:async()=>{
const r=await fetch(`https://api.themoviedb.org/3/trending/all/day?api_key=${API}`);
const d=await r.json();
const hero=document.getElementById("hero");
hero.innerHTML="";
d.results.slice(0,5).forEach((x,i)=>{
let type=x.media_type=="tv"?"tv":"movie";
hero.innerHTML+=`
<div class="slide ${i==0?'active':''}" 
onclick="FENG.info('${type}',${x.id})"
style="background-image:url(https://image.tmdb.org/t/p/original${x.backdrop_path})">
<div class="slide-content">${x.title||x.name}</div>
</div>`;
});
setInterval(()=>{
let slides=document.querySelectorAll(".slide");
slides[slideIndex].classList.remove("active");
slideIndex=(slideIndex+1)%slides.length;
slides[slideIndex].classList.add("active");
},4000);
},

/* LOAD SHELVES */
shelf:async(path,id,type)=>{
const r=await fetch(`https://api.themoviedb.org/3/${path}&api_key=${API}`);
const d=await r.json();
const c=document.getElementById(id);
c.innerHTML="";
d.results.forEach(x=>{
if(!x.poster_path)return;
let t=x.title||x.name;
c.innerHTML+=`
<div class="item" onclick="FENG.info('${type}',${x.id})">
<img src="https://image.tmdb.org/t/p/w500${x.poster_path}">
<div class="item-meta">${t}</div>
</div>`;
});
},

/* MOVIES BUTTON FIX */
loadMovies:(tab)=>{
if(tab)FENG.home(tab);
FENG.shelf("movie/popular","movies","movie");
},

/* SERIES BUTTON FIX */
loadSeries:(tab)=>{
if(tab)FENG.home(tab);
FENG.shelf("tv/popular","series","tv");
},

/* INFO PAGE */
info:async(type,id)=>{
FENG.closeAll();
document.getElementById("pane-info").style.display="flex";
const r=await fetch(`https://api.themoviedb.org/3/${type}/${id}?api_key=${API}`);
const d=await r.json();
document.getElementById("infoTitle").innerText=d.title||d.name;
document.getElementById("info-backdrop").style.backgroundImage=`url(https://image.tmdb.org/t/p/original${d.backdrop_path})`;
document.getElementById("info-grid").innerHTML=`
<div class="info-title">${d.title||d.name}</div>
<div class="info-genres">${d.genres.map(g=>g.name).join(", ")}</div>
<div class="info-overview">${d.overview}</div>
<button class="btn" onclick="FENG.play('${type}','${id}','${d.title||d.name}')">WATCH</button>
<button class="btn" onclick="alert('Download coming soon')">DOWNLOAD</button>
`;
},

/* PLAYER */
play:(type,id,title)=>{
FENG.closeAll();
document.getElementById("pane-player").style.display="flex";
document.getElementById("nowPlaying").innerText=title;
document.getElementById("video-frame").src=`https://vidsrc.to/embed/${type}/${id}`;
},

stop:()=>{
document.getElementById("video-frame").src="";
FENG.closeAll();
},

/* SEARCH */
search:async(q)=>{
if(q.length<3)return;
const r=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${API}&query=${q}`);
const d=await r.json();
const c=document.getElementById("movies");
c.innerHTML="";
d.results.forEach(x=>{
if(!x.poster_path)return;
let t=x.title||x.name;
let type=x.media_type=="tv"?"tv":"movie";
c.innerHTML+=`
<div class="item" onclick="FENG.info('${type}',${x.id})">
<img src="https://image.tmdb.org/t/p/w500${x.poster_path}">
<div class="item-meta">${t}</div>
</div>`;
});
},

/* UI HELPERS */
closeAll:()=>{document.querySelectorAll(".drawer").forEach(d=>d.style.display="none")},
view:(x,tab)=>{FENG.closeAll();document.getElementById("pane-"+x).style.display="flex";if(tab)FENG.home(tab)},
home:(t)=>{document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));t.classList.add("active")}
};
</script>

</body>
</html>
