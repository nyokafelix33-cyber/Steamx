<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>FENG WORLD Vision 11.0</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
:root{
--primary:#d3f243;
--bg:#0b0e14;
--card:#1c1f26;
--text:#ffffff;
--accent:#25d366;
--radius:12px;
}

body{
margin:0;
padding:0;
font-family:Inter,Arial,sans-serif;
background:var(--bg);
color:var(--text);
overflow-x:hidden;
}

/* SPLASH SCREEN */
#feng-splash{
position:fixed;
inset:0;
background:#000;
z-index:99999;
display:flex;
justify-content:center;
align-items:center;
animation:fadeOut 2s ease forwards;
animation-delay:3s;
}

.splash-box{
text-align:center;
color:white;
font-weight:900;
font-size:30px;
filter:drop-shadow(0 0 20px #d3f243);
animation:pulse 1.5s infinite alternate;
}

.splash-box span{color:var(--primary);}

@keyframes pulse{
from{filter:drop-shadow(0 0 10px #d3f243);}
to{filter:drop-shadow(0 0 50px #d3f243);}
}

@keyframes fadeOut{
to{opacity:0;visibility:hidden;}
}

/* LOGO */
.feng-logo-box{
width:100%;
text-align:center;
padding-top:10px;
}
.feng-logo{
width:130px;
border-radius:14px;
box-shadow:0 0 25px rgba(211,242,67,0.4);
}

/* HEADER */
header{
padding:15px 5%;
background:var(--bg);
position:sticky;
top:0;
z-index:2000;
border-bottom:2px solid var(--primary);
}
.header-top{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:10px;
}
.logo{
font-weight:900;
font-size:22px;
}
.logo span{color:var(--primary);}
.search-area{
background:rgba(255,255,255,0.07);
border-radius:12px;
padding:12px 15px;
display:flex;
align-items:center;
gap:10px;
}
.search-area input{
background:transparent;
border:none;
color:#fff;
width:100%;
outline:none;
font-size:14px;
}

/* GENRES */
#genre-filters{
display:flex;
overflow-x:auto;
gap:8px;
padding:10px 0;
}
.genre-pill{
padding:6px 14px;
background:#222;
border-radius:20px;
font-size:12px;
cursor:pointer;
white-space:nowrap;
}
.genre-pill.active{
background:var(--primary);
color:#000;
}

/* HERO SLIDER */
.slider-container{
width:100%;
height:40vh;
position:relative;
overflow:hidden;
margin-bottom:15px;
}
.slide{
position:absolute;
inset:0;
opacity:0;
transition:1s ease-in-out;
background-size:cover;
background-position:center;
display:flex;
align-items:flex-end;
padding:0 5% 40px;
cursor:pointer;
}
.slide.active{opacity:1;}
.slide::after{
content:'';
position:absolute;
inset:0;
background:linear-gradient(to top,var(--bg) 10%,transparent);
}
.slide-content{
position:relative;
z-index:2;
}
.badge{
background:var(--primary);
color:#000;
padding:4px 10px;
border-radius:4px;
font-weight:900;
font-size:10px;
margin-bottom:8px;
display:inline-block;
}

/* MOVIE ROWS */
.shelf-title{
padding:5px 5% 10px;
font-weight:800;
color:var(--primary);
font-size:13px;
text-transform:uppercase;
}
.row{
display:flex;
overflow-x:auto;
gap:12px;
padding:0 5% 20px;
}
.row::-webkit-scrollbar{display:none;}
.item{
min-width:125px;
background:var(--card);
border-radius:var(--radius);
overflow:hidden;
cursor:pointer;
}
.item img{
width:100%;
aspect-ratio:2/3;
object-fit:cover;
}
.item-meta{
padding:8px;
}
.item-meta b{
font-size:11px;
display:block;
white-space:nowrap;
overflow:hidden;
text-overflow:ellipsis;
}
.item-meta span{
font-size:9px;
color:#777;
font-weight:800;
}

/* DRAWERS */
.drawer{
position:fixed;
inset:0;
background:var(--bg);
z-index:5000;
display:none;
flex-direction:column;
overflow-y:auto;
}
.drawer-head{
padding:20px 5%;
border-bottom:1px solid #222;
display:flex;
justify-content:space-between;
align-items:center;
}

/* EPISODES */
#season-pills{
display:flex;
gap:10px;
padding:10px;
overflow-x:auto;
}
.season-pill{
padding:8px 15px;
background:#222;
border-radius:20px;
font-weight:900;
cursor:pointer;
}
.season-pill.active{
background:var(--primary);
color:#000;
}
#ep-grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(80px,1fr));
gap:10px;
padding:10px;
}

/* PLAYER */
#video-frame{
width:100%;
height:85%;
border:none;
background:#000;
}

/* FOOTER */
footer{
position:fixed;
bottom:0;
width:100%;
background:#000;
display:flex;
padding:12px 0 30px;
border-top:1px solid #1c1f26;
z-index:3000;
}
.tab{
flex:1;
text-align:center;
color:#555;
cursor:pointer;
}
.tab.active{color:var(--primary);}
.tab i{font-size:22px;display:block;}
.tab span{font-size:10px;font-weight:800;}

/* LOGIN PANEL */
#login-box{
position:fixed;
inset:0;
background:#000;
z-index:8000;
display:none;
justify-content:center;
align-items:center;
}
.login-card{
background:#1c1f26;
padding:20px;
border-radius:15px;
width:85%;
max-width:350px;
box-shadow:0 0 20px #d3f243;
}
.login-card input{
width:100%;
padding:10px;
margin-top:10px;
border-radius:8px;
border:none;
}
.login-card button{
width:100%;
padding:10px;
background:var(--primary);
border:none;
border-radius:8px;
font-weight:900;
margin-top:10px;
cursor:pointer;
}
</style>
</head>

<body onload="FENG.boot()">

<!-- SPLASH -->
<div id="feng-splash">
  <div class="splash-box">Welcome to <span>FENG WORLD</span><br><small>Vision 11.0</small></div>
</div>

<!-- LOGIN -->
<div id="login-box">
<div class="login-card">
<h2>FENG Fan Login</h2>
<input id="fanName" placeholder="Enter your fan name">
<button onclick="FENG.login()">ENTER FENG WORLD</button>
</div>
</div>

<header>
<div class="feng-logo-box">
<img src="feng-logo.png" class="feng-logo">
</div>

<div class="header-top">
<div class="logo">FE<span>NG</span> WORLD</div>
<i class="fas fa-user" onclick="FENG.view('profile')"></i>
</div>

<div class="search-area">
<i class="fas fa-search" style="color:var(--primary)"></i>
<input type="text" placeholder="Search movies, series..." onkeyup="FENG.search(this.value)">
</div>

<div id="genre-filters"></div>
</header>

<main id="pane-home">
<div class="slider-container" id="hero-slider"></div>

<div class="shelf-title">Continue Watching</div>
<div class="row" id="row-continue"></div>

<div class="shelf-title">Trending Movies</div>
<div class="row" id="row-movies"></div>

<div class="shelf-title">Popular Series</div>
<div class="row" id="row-series"></div>
</main>

<!-- PROFILE -->
<div class="drawer" id="pane-profile">
<div class="drawer-head">
<h2>User Profile</h2>
<i class="fas fa-times fa-2x" onclick="FENG.hideDrawers()"></i>
</div>
<div style="padding:20px;">
<h3 id="user-name"></h3>
<p>FENG Fan Base Member</p>
<button class="download-btn" onclick="FENG.logout()">LOG OUT</button>
</div>
</div>

<!-- SETTINGS -->
<div class="drawer" id="pane-settings">
<div class="drawer-head">
<h2>Settings</h2>
<i class="fas fa-times fa-2x" onclick="FENG.hideDrawers()"></i>
</div>
<div style="padding:20px;">
<p>Web App Vision: <b>11.0</b></p>
<p>Player Engine: Cloud Embed</p>
<p>Developer: Felix Nyoka</p>
</div>
</div>

<!-- INFO -->
<div class="drawer" id="pane-info">
<div class="drawer-head">
<h2 id="info-title"></h2>
<i class="fas fa-times fa-2x" onclick="FENG.hideDrawers()"></i>
</div>
<div id="info-backdrop"></div>
<div id="info-grid" style="padding:15px;"></div>
</div>

<!-- EPISODES -->
<div class="drawer" id="pane-episodes">
<div class="drawer-head">
<h2>Episodes</h2>
<i class="fas fa-times fa-2x" onclick="FENG.hideDrawers()"></i>
</div>
<div id="season-pills"></div>
<div id="ep-grid"></div>
</div>

<!-- PLAYER -->
<div class="drawer" id="pane-player">
<div class="drawer-head">
<span id="now-playing">Loading...</span>
<button onclick="FENG.stopPlayer()" style="background:red;color:white;padding:8px;border:none;border-radius:6px;">EXIT</button>
</div>
<iframe id="video-frame" allowfullscreen></iframe>
</div>

<footer>
<div class="tab active" onclick="FENG.view('home',this)"><i class="fas fa-home"></i><span>Home</span></div>
<div class="tab" onclick="FENG.loadType('movie',this)"><i class="fas fa-film"></i><span>Movies</span></div>
<div class="tab" onclick="FENG.loadType('tv',this)"><i class="fas fa-tv"></i><span>Series</span></div>
<div class="tab" onclick="FENG.view('settings',this)"><i class="fas fa-cog"></i><span>Settings</span></div>
</footer>

<script>
const KEY="ea593c3fa4d4942ece315977cd7e32c9";
let currentSlide=0;
let userName=localStorage.getItem("fengUser")||null;
let continueList=JSON.parse(localStorage.getItem("fengContinue")||"[]");

const FENG={

boot: async function(){
this.showLogin();
this.loadGenres();
this.loadHero();
this.loadShelf("movie/popular","row-movies");
this.loadShelf("tv/top_rated","row-series");
this.loadContinue();
},

/* LOGIN */
showLogin:function(){
if(!userName){
document.getElementById("login-box").style.display="flex";
}else{
document.getElementById("user-name").innerText=userName;
}
},
login:function(){
let name=document.getElementById("fanName").value;
if(name.length<2)return alert("Enter a name");
localStorage.setItem("fengUser",name);
location.reload();
},
logout:function(){
localStorage.clear();
location.reload();
},

/* GENRES */
loadGenres: async function(){
const r=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${KEY}`);
const d=await r.json();
d.genres.forEach(g=>{
let pill=document.createElement("div");
pill.className="genre-pill";
pill.innerText=g.name;
pill.onclick=()=>this.filterGenre(g.id);
document.getElementById("genre-filters").appendChild(pill);
});
},
filterGenre:function(id){
this.loadShelf(`discover/movie?with_genres=${id}`,"row-movies");
this.loadShelf(`discover/tv?with_genres=${id}`,"row-series");
},

/* HERO */
loadHero: async function(){
const r=await fetch(`https://api.themoviedb.org/3/trending/all/day?api_key=${KEY}`);
const d=await r.json();
const slider=document.getElementById("hero-slider");
slider.innerHTML="";
d.results.slice(0,5).forEach((item,i)=>{
let title=item.title||item.name;
slider.innerHTML+=`
<div class="slide ${i==0?"active":""}" onclick="FENG.openInfo('${item.media_type}','${item.id}')" style="background-image:url(https://image.tmdb.org/t/p/original${item.backdrop_path})">
<div class="slide-content"><span class="badge">TRENDING</span><h2>${title}</h2></div></div>`;
});
setInterval(()=>this.nextSlide(),5000);
},
nextSlide:function(){
let slides=document.querySelectorAll(".slide");
slides[currentSlide].classList.remove("active");
currentSlide=(currentSlide+1)%slides.length;
slides[currentSlide].classList.add("active");
},

/* LOAD CONTENT */
loadShelf: async function(path,id){
const r=await fetch(`https://api.themoviedb.org/3/${path}?api_key=${KEY}`);
const d=await r.json();
const container=document.getElementById(id);
container.innerHTML="";
d.results.forEach(item=>{
let type=item.name?"tv":"movie";
let title=item.title||item.name;
container.innerHTML+=`
<div class="item" onclick="FENG.openInfo('${type}','${item.id}')">
<img src="https://image.tmdb.org/t/p/w500${item.poster_path}">
<div class="item-meta"><b>${title}</b><span>${type}</span></div></div>`;
});
},

/* CONTINUE WATCHING */
saveContinue:function(type,id,title){
continueList.unshift({type,id,title});
continueList=continueList.slice(0,10);
localStorage.setItem("fengContinue",JSON.stringify(continueList));
this.loadContinue();
},
loadContinue:function(){
const row=document.getElementById("row-continue");
row.innerHTML="";
continueList.forEach(c=>{
row.innerHTML+=`
<div class="item" onclick="FENG.play('${c.type}','${c.id}','${c.title}')">
<img src="https://via.placeholder.com/150x220?text=${encodeURIComponent(c.title)}">
<div class="item-meta"><b>${c.title}</b><span>Continue</span></div></div>`;
});
},

/* INFO */
openInfo: async function(type,id){
this.hideDrawers();
document.getElementById("pane-info").style.display="flex";
const r=await fetch(`https://api.themoviedb.org/3/${type}/${id}?api_key=${KEY}`);
const d=await r.json();
document.getElementById("info-title").innerText=d.title||d.name;
document.getElementById("info-backdrop").style.backgroundImage=`url(https://image.tmdb.org/t/p/original${d.backdrop_path})`;
document.getElementById("info-grid").innerHTML=`
<h2>${d.title||d.name}</h2>
<p>${d.overview}</p>
<button class="download-btn" onclick="FENG.play('${type}','${id}','${d.title||d.name}')">WATCH</button>
<button class="download-btn" onclick="FENG.showEpisodes(${id})">EPISODES</button>`;
},

/* EPISODES */
showEpisodes: async function(id){
this.hideDrawers();
document.getElementById("pane-episodes").style.display="flex";
const r=await fetch(`https://api.themoviedb.org/3/tv/${id}?api_key=${KEY}`);
const d=await r.json();
const seasons=document.getElementById("season-pills");
seasons.innerHTML="";
d.seasons.forEach(s=>{
let pill=document.createElement("div");
pill.className="season-pill";
pill.innerText=s.name;
pill.onclick=()=>this.loadEpisodes(id,s.season_number);
seasons.appendChild(pill);
});
},
loadEpisodes: async function(id,season){
const r=await fetch(`https://api.themoviedb.org/3/tv/${id}/season/${season}?api_key=${KEY}`);
const d=await r.json();
const grid=document.getElementById("ep-grid");
grid.innerHTML="";
d.episodes.forEach(ep=>{
grid.innerHTML+=`
<div style="background:#222;padding:10px;border-radius:8px;text-align:center;cursor:pointer;"
onclick="FENG.play('tv','${id}/${season}/${ep.episode_number}','Episode ${ep.episode_number}')">E${ep.episode_number}</div>`;
});
},

/* PLAYER */
play:function(type,path,title){
this.saveContinue(type,path,title);
this.hideDrawers();
document.getElementById("now-playing").innerText=title;
document.getElementById("video-frame").src=`https://vidsrc.to/embed/${type}/${path}`;
document.getElementById("pane-player").style.display="flex";
},

/* UI */
view:function(pane,tab){
this.hideDrawers();
if(tab){
document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
tab.classList.add("active");
}
if(pane!=="home") document.getElementById("pane-"+pane).style.display="flex";
},
loadType:function(type,tab){
this.view("home",tab);
this.loadShelf(`discover/${type}`,(type==="movie"?"row-movies":"row-series"));
},
hideDrawers:function(){
document.querySelectorAll(".drawer").forEach(d=>d.style.display="none");
},
stopPlayer:function(){
this.hideDrawers();
document.getElementById("video-frame").src="";
}
};

// Splash hide
window.addEventListener("load",()=>setTimeout(()=>document.getElementById("feng-splash").style.display="none",4000));
</script>

</body>
</html>
